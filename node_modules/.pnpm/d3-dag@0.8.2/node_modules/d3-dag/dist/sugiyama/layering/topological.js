/**
 * A {@link TopologicalOperator} that assigns each node a unique layer.
 *
 * @module
 */
/**
 * Create a topological layering.
 */
export function topological(...args) {
    if (args.length) {
        throw new Error(`got arguments to topological(${args}), but constructor takes no aruguments.`);
    }
    // TODO simplex optimizes number of dummy nodes, we could do simplex first,
    // then grow each layer to minimize dummy nodes. Its unclear how hard that
    // permutation is to optimize
    function topologicalCall(dag) {
        for (const [layer, node] of dag.idescendants("before").entries()) {
            node.value = layer;
        }
    }
    return topologicalCall;
}
